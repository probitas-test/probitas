export const snapshot = {};

snapshot[`after onRunStart 1`] = `
'{"type":"runStart","scenarios":3}
'
`;

snapshot[`after onScenarioStart - Simple passing scenario (1) 1`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
'
`;

snapshot[`after onStepStart - Step that passes (1) 1`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
'
`;

snapshot[`after onStepEnd - Step that passes (1) 1`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
'
`;

snapshot[`after onScenarioEnd - Simple passing scenario (1) 1`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
'
`;

snapshot[`after onScenarioStart - Simple passing scenario (2) 1`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
'
`;

snapshot[`after onStepStart - Step that passes (2) 1`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
'
`;

snapshot[`after onStepEnd - Step that passes (2) 1`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
'
`;

snapshot[`after onScenarioEnd - Simple passing scenario (2) 1`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
'
`;

snapshot[`after onScenarioStart - Simple passing scenario (3) 1`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
'
`;

snapshot[`after onStepStart - Step that passes (3) 1`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
'
`;

snapshot[`after onStepEnd - Step that passes (3) 1`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
'
`;

snapshot[`after onScenarioEnd - Simple passing scenario (3) 1`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
'
`;

snapshot[`after onRunEnd 1`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"runEnd","summary":{"total":3,"passed":3,"failed":0,"skipped":0,"duration":45}}
'
`;

snapshot[`after onRunStart 2`] = `
'{"type":"runStart","scenarios":3}
'
`;

snapshot[`after onScenarioStart - Simple passing scenario (1) 2`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
'
`;

snapshot[`after onStepStart - Step that passes (1) 2`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
'
`;

snapshot[`after onStepEnd - Step that passes (1) 2`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
'
`;

snapshot[`after onScenarioEnd - Simple passing scenario (1) 2`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
'
`;

snapshot[`after onScenarioStart - Scenario with failing step (2) 1`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
'
`;

snapshot[`after onStepStart - Step that passes (2-1) 1`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
'
`;

snapshot[`after onStepEnd - Step that passes (2-1) 1`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
'
`;

snapshot[`after onStepStart - Step that fails (2-2) 1`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
'
`;

snapshot[`after onStepError - Step that fails (2-2) 1`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
{"type":"stepError","name":"Step that fails","error":{"message":"Assertion failed","stack":"Error: Assertion failed\\\\n    at Object.<anonymous> (src/reporter/testkit.ts:596:11)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:429:7)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async fn (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:378:13)\\\\n    at async innerWrapped (ext:cli/40_test.js:181:5)\\\\n    at async exitSanitizer (ext:cli/40_test.js:97:27)\\\\n    at async Object.outerWrapped [as fn] (ext:cli/40_test.js:124:14)\\\\n    at async TestContext.step (ext:cli/40_test.js:511:22)\\\\n    at async TestSuiteInternal.run (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:394:7)"}}
'
`;

snapshot[`after onScenarioEnd - Scenario with failing step (2) 1`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
{"type":"stepError","name":"Step that fails","error":{"message":"Assertion failed","stack":"Error: Assertion failed\\\\n    at Object.<anonymous> (src/reporter/testkit.ts:596:11)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:429:7)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async fn (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:378:13)\\\\n    at async innerWrapped (ext:cli/40_test.js:181:5)\\\\n    at async exitSanitizer (ext:cli/40_test.js:97:27)\\\\n    at async Object.outerWrapped [as fn] (ext:cli/40_test.js:124:14)\\\\n    at async TestContext.step (ext:cli/40_test.js:511:22)\\\\n    at async TestSuiteInternal.run (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:394:7)"}}
{"type":"scenarioEnd","name":"Scenario with failing step","status":"failed","duration":15}
'
`;

snapshot[`after onScenarioStart - Simple passing scenario (3) 2`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
{"type":"stepError","name":"Step that fails","error":{"message":"Assertion failed","stack":"Error: Assertion failed\\\\n    at Object.<anonymous> (src/reporter/testkit.ts:596:11)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:429:7)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async fn (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:378:13)\\\\n    at async innerWrapped (ext:cli/40_test.js:181:5)\\\\n    at async exitSanitizer (ext:cli/40_test.js:97:27)\\\\n    at async Object.outerWrapped [as fn] (ext:cli/40_test.js:124:14)\\\\n    at async TestContext.step (ext:cli/40_test.js:511:22)\\\\n    at async TestSuiteInternal.run (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:394:7)"}}
{"type":"scenarioEnd","name":"Scenario with failing step","status":"failed","duration":15}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
'
`;

snapshot[`after onStepStart - Step that passes (3) 2`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
{"type":"stepError","name":"Step that fails","error":{"message":"Assertion failed","stack":"Error: Assertion failed\\\\n    at Object.<anonymous> (src/reporter/testkit.ts:596:11)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:429:7)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async fn (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:378:13)\\\\n    at async innerWrapped (ext:cli/40_test.js:181:5)\\\\n    at async exitSanitizer (ext:cli/40_test.js:97:27)\\\\n    at async Object.outerWrapped [as fn] (ext:cli/40_test.js:124:14)\\\\n    at async TestContext.step (ext:cli/40_test.js:511:22)\\\\n    at async TestSuiteInternal.run (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:394:7)"}}
{"type":"scenarioEnd","name":"Scenario with failing step","status":"failed","duration":15}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
'
`;

snapshot[`after onStepEnd - Step that passes (3) 2`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
{"type":"stepError","name":"Step that fails","error":{"message":"Assertion failed","stack":"Error: Assertion failed\\\\n    at Object.<anonymous> (src/reporter/testkit.ts:596:11)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:429:7)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async fn (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:378:13)\\\\n    at async innerWrapped (ext:cli/40_test.js:181:5)\\\\n    at async exitSanitizer (ext:cli/40_test.js:97:27)\\\\n    at async Object.outerWrapped [as fn] (ext:cli/40_test.js:124:14)\\\\n    at async TestContext.step (ext:cli/40_test.js:511:22)\\\\n    at async TestSuiteInternal.run (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:394:7)"}}
{"type":"scenarioEnd","name":"Scenario with failing step","status":"failed","duration":15}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
'
`;

snapshot[`after onScenarioEnd - Simple passing scenario (3) 2`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
{"type":"stepError","name":"Step that fails","error":{"message":"Assertion failed","stack":"Error: Assertion failed\\\\n    at Object.<anonymous> (src/reporter/testkit.ts:596:11)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:429:7)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async fn (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:378:13)\\\\n    at async innerWrapped (ext:cli/40_test.js:181:5)\\\\n    at async exitSanitizer (ext:cli/40_test.js:97:27)\\\\n    at async Object.outerWrapped [as fn] (ext:cli/40_test.js:124:14)\\\\n    at async TestContext.step (ext:cli/40_test.js:511:22)\\\\n    at async TestSuiteInternal.run (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:394:7)"}}
{"type":"scenarioEnd","name":"Scenario with failing step","status":"failed","duration":15}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
'
`;

snapshot[`after onRunEnd 2`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
{"type":"stepError","name":"Step that fails","error":{"message":"Assertion failed","stack":"Error: Assertion failed\\\\n    at Object.<anonymous> (src/reporter/testkit.ts:596:11)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:429:7)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async fn (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:378:13)\\\\n    at async innerWrapped (ext:cli/40_test.js:181:5)\\\\n    at async exitSanitizer (ext:cli/40_test.js:97:27)\\\\n    at async Object.outerWrapped [as fn] (ext:cli/40_test.js:124:14)\\\\n    at async TestContext.step (ext:cli/40_test.js:511:22)\\\\n    at async TestSuiteInternal.run (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:394:7)"}}
{"type":"scenarioEnd","name":"Scenario with failing step","status":"failed","duration":15}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"runEnd","summary":{"total":3,"passed":2,"failed":1,"skipped":0,"duration":35}}
'
`;

snapshot[`after onRunStart 3`] = `
'{"type":"runStart","scenarios":4}
'
`;

snapshot[`after onScenarioStart - Simple passing scenario (1) 3`] = `
'{"type":"runStart","scenarios":4}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
'
`;

snapshot[`after onStepStart - Step that passes (1) 3`] = `
'{"type":"runStart","scenarios":4}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
'
`;

snapshot[`after onStepEnd - Step that passes (1) 3`] = `
'{"type":"runStart","scenarios":4}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
'
`;

snapshot[`after onScenarioEnd - Simple passing scenario (1) 3`] = `
'{"type":"runStart","scenarios":4}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
'
`;

snapshot[`after onScenarioSkip - Skipped scenario (2) 1`] = `
'{"type":"runStart","scenarios":4}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
'
`;

snapshot[`after onScenarioEnd - Skipped scenario (2) 1`] = `
'{"type":"runStart","scenarios":4}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
'
`;

snapshot[`after onScenarioStart - Simple passing scenario (3) 3`] = `
'{"type":"runStart","scenarios":4}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
'
`;

snapshot[`after onStepStart - Step that passes (3) 3`] = `
'{"type":"runStart","scenarios":4}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
'
`;

snapshot[`after onStepEnd - Step that passes (3) 3`] = `
'{"type":"runStart","scenarios":4}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
'
`;

snapshot[`after onScenarioEnd - Simple passing scenario (3) 3`] = `
'{"type":"runStart","scenarios":4}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
'
`;

snapshot[`after onScenarioSkip - Skipped scenario (4) 1`] = `
'{"type":"runStart","scenarios":4}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
'
`;

snapshot[`after onScenarioEnd - Skipped scenario (4) 1`] = `
'{"type":"runStart","scenarios":4}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
'
`;

snapshot[`after onRunEnd 3`] = `
'{"type":"runStart","scenarios":4}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
{"type":"runEnd","summary":{"total":4,"passed":2,"failed":0,"skipped":2,"duration":20}}
'
`;

snapshot[`after onRunStart 4`] = `
'{"type":"runStart","scenarios":5}
'
`;

snapshot[`after onScenarioStart - Simple passing scenario (1) 4`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
'
`;

snapshot[`after onStepStart - Step that passes (1) 4`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
'
`;

snapshot[`after onStepEnd - Step that passes (1) 4`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
'
`;

snapshot[`after onScenarioEnd - Simple passing scenario (1) 4`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
'
`;

snapshot[`after onScenarioStart - Scenario with failing step (2) 2`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
'
`;

snapshot[`after onStepStart - Step that passes (2-1) 2`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
'
`;

snapshot[`after onStepEnd - Step that passes (2-1) 2`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
'
`;

snapshot[`after onStepStart - Step that fails (2-2) 2`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
'
`;

snapshot[`after onStepError - Step that fails (2-2) 2`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
{"type":"stepError","name":"Step that fails","error":{"message":"Assertion failed","stack":"Error: Assertion failed\\\\n    at Object.<anonymous> (src/reporter/testkit.ts:795:11)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:429:7)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async fn (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:378:13)\\\\n    at async innerWrapped (ext:cli/40_test.js:181:5)\\\\n    at async exitSanitizer (ext:cli/40_test.js:97:27)\\\\n    at async Object.outerWrapped [as fn] (ext:cli/40_test.js:124:14)\\\\n    at async TestContext.step (ext:cli/40_test.js:511:22)\\\\n    at async TestSuiteInternal.run (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:394:7)"}}
'
`;

snapshot[`after onScenarioEnd - Scenario with failing step (2) 2`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
{"type":"stepError","name":"Step that fails","error":{"message":"Assertion failed","stack":"Error: Assertion failed\\\\n    at Object.<anonymous> (src/reporter/testkit.ts:795:11)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:429:7)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async fn (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:378:13)\\\\n    at async innerWrapped (ext:cli/40_test.js:181:5)\\\\n    at async exitSanitizer (ext:cli/40_test.js:97:27)\\\\n    at async Object.outerWrapped [as fn] (ext:cli/40_test.js:124:14)\\\\n    at async TestContext.step (ext:cli/40_test.js:511:22)\\\\n    at async TestSuiteInternal.run (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:394:7)"}}
{"type":"scenarioEnd","name":"Scenario with failing step","status":"failed","duration":15}
'
`;

snapshot[`after onScenarioSkip - Skipped scenario (3) 1`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
{"type":"stepError","name":"Step that fails","error":{"message":"Assertion failed","stack":"Error: Assertion failed\\\\n    at Object.<anonymous> (src/reporter/testkit.ts:795:11)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:429:7)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async fn (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:378:13)\\\\n    at async innerWrapped (ext:cli/40_test.js:181:5)\\\\n    at async exitSanitizer (ext:cli/40_test.js:97:27)\\\\n    at async Object.outerWrapped [as fn] (ext:cli/40_test.js:124:14)\\\\n    at async TestContext.step (ext:cli/40_test.js:511:22)\\\\n    at async TestSuiteInternal.run (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:394:7)"}}
{"type":"scenarioEnd","name":"Scenario with failing step","status":"failed","duration":15}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
'
`;

snapshot[`after onScenarioEnd - Skipped scenario (3) 1`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
{"type":"stepError","name":"Step that fails","error":{"message":"Assertion failed","stack":"Error: Assertion failed\\\\n    at Object.<anonymous> (src/reporter/testkit.ts:795:11)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:429:7)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async fn (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:378:13)\\\\n    at async innerWrapped (ext:cli/40_test.js:181:5)\\\\n    at async exitSanitizer (ext:cli/40_test.js:97:27)\\\\n    at async Object.outerWrapped [as fn] (ext:cli/40_test.js:124:14)\\\\n    at async TestContext.step (ext:cli/40_test.js:511:22)\\\\n    at async TestSuiteInternal.run (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:394:7)"}}
{"type":"scenarioEnd","name":"Scenario with failing step","status":"failed","duration":15}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
'
`;

snapshot[`after onScenarioStart - Simple passing scenario (4) 1`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
{"type":"stepError","name":"Step that fails","error":{"message":"Assertion failed","stack":"Error: Assertion failed\\\\n    at Object.<anonymous> (src/reporter/testkit.ts:795:11)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:429:7)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async fn (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:378:13)\\\\n    at async innerWrapped (ext:cli/40_test.js:181:5)\\\\n    at async exitSanitizer (ext:cli/40_test.js:97:27)\\\\n    at async Object.outerWrapped [as fn] (ext:cli/40_test.js:124:14)\\\\n    at async TestContext.step (ext:cli/40_test.js:511:22)\\\\n    at async TestSuiteInternal.run (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:394:7)"}}
{"type":"scenarioEnd","name":"Scenario with failing step","status":"failed","duration":15}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
'
`;

snapshot[`after onStepStart - Step that passes (4) 1`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
{"type":"stepError","name":"Step that fails","error":{"message":"Assertion failed","stack":"Error: Assertion failed\\\\n    at Object.<anonymous> (src/reporter/testkit.ts:795:11)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:429:7)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async fn (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:378:13)\\\\n    at async innerWrapped (ext:cli/40_test.js:181:5)\\\\n    at async exitSanitizer (ext:cli/40_test.js:97:27)\\\\n    at async Object.outerWrapped [as fn] (ext:cli/40_test.js:124:14)\\\\n    at async TestContext.step (ext:cli/40_test.js:511:22)\\\\n    at async TestSuiteInternal.run (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:394:7)"}}
{"type":"scenarioEnd","name":"Scenario with failing step","status":"failed","duration":15}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
'
`;

snapshot[`after onStepEnd - Step that passes (4) 1`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
{"type":"stepError","name":"Step that fails","error":{"message":"Assertion failed","stack":"Error: Assertion failed\\\\n    at Object.<anonymous> (src/reporter/testkit.ts:795:11)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:429:7)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async fn (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:378:13)\\\\n    at async innerWrapped (ext:cli/40_test.js:181:5)\\\\n    at async exitSanitizer (ext:cli/40_test.js:97:27)\\\\n    at async Object.outerWrapped [as fn] (ext:cli/40_test.js:124:14)\\\\n    at async TestContext.step (ext:cli/40_test.js:511:22)\\\\n    at async TestSuiteInternal.run (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:394:7)"}}
{"type":"scenarioEnd","name":"Scenario with failing step","status":"failed","duration":15}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
'
`;

snapshot[`after onScenarioEnd - Simple passing scenario (4) 1`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
{"type":"stepError","name":"Step that fails","error":{"message":"Assertion failed","stack":"Error: Assertion failed\\\\n    at Object.<anonymous> (src/reporter/testkit.ts:795:11)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:429:7)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async fn (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:378:13)\\\\n    at async innerWrapped (ext:cli/40_test.js:181:5)\\\\n    at async exitSanitizer (ext:cli/40_test.js:97:27)\\\\n    at async Object.outerWrapped [as fn] (ext:cli/40_test.js:124:14)\\\\n    at async TestContext.step (ext:cli/40_test.js:511:22)\\\\n    at async TestSuiteInternal.run (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:394:7)"}}
{"type":"scenarioEnd","name":"Scenario with failing step","status":"failed","duration":15}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
'
`;

snapshot[`after onScenarioSkip - Skipped scenario (5) 1`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
{"type":"stepError","name":"Step that fails","error":{"message":"Assertion failed","stack":"Error: Assertion failed\\\\n    at Object.<anonymous> (src/reporter/testkit.ts:795:11)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:429:7)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async fn (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:378:13)\\\\n    at async innerWrapped (ext:cli/40_test.js:181:5)\\\\n    at async exitSanitizer (ext:cli/40_test.js:97:27)\\\\n    at async Object.outerWrapped [as fn] (ext:cli/40_test.js:124:14)\\\\n    at async TestContext.step (ext:cli/40_test.js:511:22)\\\\n    at async TestSuiteInternal.run (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:394:7)"}}
{"type":"scenarioEnd","name":"Scenario with failing step","status":"failed","duration":15}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
'
`;

snapshot[`after onScenarioEnd - Skipped scenario (5) 1`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
{"type":"stepError","name":"Step that fails","error":{"message":"Assertion failed","stack":"Error: Assertion failed\\\\n    at Object.<anonymous> (src/reporter/testkit.ts:795:11)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:429:7)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async fn (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:378:13)\\\\n    at async innerWrapped (ext:cli/40_test.js:181:5)\\\\n    at async exitSanitizer (ext:cli/40_test.js:97:27)\\\\n    at async Object.outerWrapped [as fn] (ext:cli/40_test.js:124:14)\\\\n    at async TestContext.step (ext:cli/40_test.js:511:22)\\\\n    at async TestSuiteInternal.run (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:394:7)"}}
{"type":"scenarioEnd","name":"Scenario with failing step","status":"failed","duration":15}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
'
`;

snapshot[`after onRunEnd 4`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
{"type":"stepError","name":"Step that fails","error":{"message":"Assertion failed","stack":"Error: Assertion failed\\\\n    at Object.<anonymous> (src/reporter/testkit.ts:795:11)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:429:7)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async fn (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:378:13)\\\\n    at async innerWrapped (ext:cli/40_test.js:181:5)\\\\n    at async exitSanitizer (ext:cli/40_test.js:97:27)\\\\n    at async Object.outerWrapped [as fn] (ext:cli/40_test.js:124:14)\\\\n    at async TestContext.step (ext:cli/40_test.js:511:22)\\\\n    at async TestSuiteInternal.run (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:394:7)"}}
{"type":"scenarioEnd","name":"Scenario with failing step","status":"failed","duration":15}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
{"type":"runEnd","summary":{"total":5,"passed":2,"failed":1,"skipped":2,"duration":55}}
'
`;

snapshot[`after onRunStart 5`] = `
'{"type":"runStart","scenarios":0}
'
`;

snapshot[`after onRunEnd 5`] = `
'{"type":"runStart","scenarios":0}
{"type":"runEnd","summary":{"total":0,"passed":0,"failed":0,"skipped":0,"duration":0}}
'
`;

snapshot[`after onRunStart 6`] = `
'{"type":"runStart","scenarios":3}
'
`;

snapshot[`after onScenarioStart - Simple passing scenario (1) 5`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
'
`;

snapshot[`after onStepStart - Step that passes (1) 5`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
'
`;

snapshot[`after onStepEnd - Step that passes (1) 5`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
'
`;

snapshot[`after onScenarioEnd - Simple passing scenario (1) 5`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
'
`;

snapshot[`after onScenarioStart - Simple passing scenario (2) 2`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
'
`;

snapshot[`after onStepStart - Step that passes (2) 2`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
'
`;

snapshot[`after onStepEnd - Step that passes (2) 2`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
'
`;

snapshot[`after onScenarioEnd - Simple passing scenario (2) 2`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
'
`;

snapshot[`after onScenarioStart - Simple passing scenario (3) 4`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
'
`;

snapshot[`after onStepStart - Step that passes (3) 4`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
'
`;

snapshot[`after onStepEnd - Step that passes (3) 4`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
'
`;

snapshot[`after onScenarioEnd - Simple passing scenario (3) 4`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
'
`;

snapshot[`after onRunEnd 6`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"runEnd","summary":{"total":3,"passed":3,"failed":0,"skipped":0,"duration":45}}
'
`;

snapshot[`after onRunStart 7`] = `
'{"type":"runStart","scenarios":3}
'
`;

snapshot[`after onScenarioStart - Simple passing scenario (1) 6`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
'
`;

snapshot[`after onStepStart - Step that passes (1) 6`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
'
`;

snapshot[`after onStepEnd - Step that passes (1) 6`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
'
`;

snapshot[`after onScenarioEnd - Simple passing scenario (1) 6`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
'
`;

snapshot[`after onScenarioStart - Scenario with failing step (2) 3`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
'
`;

snapshot[`after onStepStart - Step that passes (2-1) 3`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
'
`;

snapshot[`after onStepEnd - Step that passes (2-1) 3`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
'
`;

snapshot[`after onStepStart - Step that fails (2-2) 3`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
'
`;

snapshot[`after onStepError - Step that fails (2-2) 3`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
{"type":"stepError","name":"Step that fails","error":{"message":"Assertion failed","stack":"Error: Assertion failed\\\\n    at Object.<anonymous> (src/reporter/testkit.ts:1035:11)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:429:7)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async fn (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:378:13)\\\\n    at async innerWrapped (ext:cli/40_test.js:181:5)\\\\n    at async exitSanitizer (ext:cli/40_test.js:97:27)\\\\n    at async Object.outerWrapped [as fn] (ext:cli/40_test.js:124:14)\\\\n    at async TestContext.step (ext:cli/40_test.js:511:22)\\\\n    at async TestSuiteInternal.run (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:394:7)"}}
'
`;

snapshot[`after onScenarioEnd - Scenario with failing step (2) 3`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
{"type":"stepError","name":"Step that fails","error":{"message":"Assertion failed","stack":"Error: Assertion failed\\\\n    at Object.<anonymous> (src/reporter/testkit.ts:1035:11)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:429:7)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async fn (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:378:13)\\\\n    at async innerWrapped (ext:cli/40_test.js:181:5)\\\\n    at async exitSanitizer (ext:cli/40_test.js:97:27)\\\\n    at async Object.outerWrapped [as fn] (ext:cli/40_test.js:124:14)\\\\n    at async TestContext.step (ext:cli/40_test.js:511:22)\\\\n    at async TestSuiteInternal.run (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:394:7)"}}
{"type":"scenarioEnd","name":"Scenario with failing step","status":"failed","duration":15}
'
`;

snapshot[`after onScenarioStart - Simple passing scenario (3) 5`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
{"type":"stepError","name":"Step that fails","error":{"message":"Assertion failed","stack":"Error: Assertion failed\\\\n    at Object.<anonymous> (src/reporter/testkit.ts:1035:11)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:429:7)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async fn (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:378:13)\\\\n    at async innerWrapped (ext:cli/40_test.js:181:5)\\\\n    at async exitSanitizer (ext:cli/40_test.js:97:27)\\\\n    at async Object.outerWrapped [as fn] (ext:cli/40_test.js:124:14)\\\\n    at async TestContext.step (ext:cli/40_test.js:511:22)\\\\n    at async TestSuiteInternal.run (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:394:7)"}}
{"type":"scenarioEnd","name":"Scenario with failing step","status":"failed","duration":15}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
'
`;

snapshot[`after onStepStart - Step that passes (3) 5`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
{"type":"stepError","name":"Step that fails","error":{"message":"Assertion failed","stack":"Error: Assertion failed\\\\n    at Object.<anonymous> (src/reporter/testkit.ts:1035:11)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:429:7)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async fn (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:378:13)\\\\n    at async innerWrapped (ext:cli/40_test.js:181:5)\\\\n    at async exitSanitizer (ext:cli/40_test.js:97:27)\\\\n    at async Object.outerWrapped [as fn] (ext:cli/40_test.js:124:14)\\\\n    at async TestContext.step (ext:cli/40_test.js:511:22)\\\\n    at async TestSuiteInternal.run (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:394:7)"}}
{"type":"scenarioEnd","name":"Scenario with failing step","status":"failed","duration":15}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
'
`;

snapshot[`after onStepEnd - Step that passes (3) 5`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
{"type":"stepError","name":"Step that fails","error":{"message":"Assertion failed","stack":"Error: Assertion failed\\\\n    at Object.<anonymous> (src/reporter/testkit.ts:1035:11)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:429:7)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async fn (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:378:13)\\\\n    at async innerWrapped (ext:cli/40_test.js:181:5)\\\\n    at async exitSanitizer (ext:cli/40_test.js:97:27)\\\\n    at async Object.outerWrapped [as fn] (ext:cli/40_test.js:124:14)\\\\n    at async TestContext.step (ext:cli/40_test.js:511:22)\\\\n    at async TestSuiteInternal.run (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:394:7)"}}
{"type":"scenarioEnd","name":"Scenario with failing step","status":"failed","duration":15}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
'
`;

snapshot[`after onScenarioEnd - Simple passing scenario (3) 5`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
{"type":"stepError","name":"Step that fails","error":{"message":"Assertion failed","stack":"Error: Assertion failed\\\\n    at Object.<anonymous> (src/reporter/testkit.ts:1035:11)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:429:7)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async fn (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:378:13)\\\\n    at async innerWrapped (ext:cli/40_test.js:181:5)\\\\n    at async exitSanitizer (ext:cli/40_test.js:97:27)\\\\n    at async Object.outerWrapped [as fn] (ext:cli/40_test.js:124:14)\\\\n    at async TestContext.step (ext:cli/40_test.js:511:22)\\\\n    at async TestSuiteInternal.run (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:394:7)"}}
{"type":"scenarioEnd","name":"Scenario with failing step","status":"failed","duration":15}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
'
`;

snapshot[`after onRunEnd 7`] = `
'{"type":"runStart","scenarios":3}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
{"type":"stepError","name":"Step that fails","error":{"message":"Assertion failed","stack":"Error: Assertion failed\\\\n    at Object.<anonymous> (src/reporter/testkit.ts:1035:11)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:429:7)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async fn (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:378:13)\\\\n    at async innerWrapped (ext:cli/40_test.js:181:5)\\\\n    at async exitSanitizer (ext:cli/40_test.js:97:27)\\\\n    at async Object.outerWrapped [as fn] (ext:cli/40_test.js:124:14)\\\\n    at async TestContext.step (ext:cli/40_test.js:511:22)\\\\n    at async TestSuiteInternal.run (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:394:7)"}}
{"type":"scenarioEnd","name":"Scenario with failing step","status":"failed","duration":15}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"runEnd","summary":{"total":3,"passed":2,"failed":1,"skipped":0,"duration":35}}
'
`;

snapshot[`after onRunStart 8`] = `
'{"type":"runStart","scenarios":4}
'
`;

snapshot[`after onScenarioStart - Simple passing scenario (1) 7`] = `
'{"type":"runStart","scenarios":4}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
'
`;

snapshot[`after onStepStart - Step that passes (1) 7`] = `
'{"type":"runStart","scenarios":4}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
'
`;

snapshot[`after onStepEnd - Step that passes (1) 7`] = `
'{"type":"runStart","scenarios":4}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
'
`;

snapshot[`after onScenarioEnd - Simple passing scenario (1) 7`] = `
'{"type":"runStart","scenarios":4}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
'
`;

snapshot[`after onScenarioSkip - Skipped scenario (2) 2`] = `
'{"type":"runStart","scenarios":4}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
'
`;

snapshot[`after onScenarioEnd - Skipped scenario (2) 2`] = `
'{"type":"runStart","scenarios":4}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
'
`;

snapshot[`after onScenarioStart - Simple passing scenario (3) 6`] = `
'{"type":"runStart","scenarios":4}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
'
`;

snapshot[`after onStepStart - Step that passes (3) 6`] = `
'{"type":"runStart","scenarios":4}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
'
`;

snapshot[`after onStepEnd - Step that passes (3) 6`] = `
'{"type":"runStart","scenarios":4}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
'
`;

snapshot[`after onScenarioEnd - Simple passing scenario (3) 6`] = `
'{"type":"runStart","scenarios":4}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
'
`;

snapshot[`after onScenarioSkip - Skipped scenario (4) 2`] = `
'{"type":"runStart","scenarios":4}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
'
`;

snapshot[`after onScenarioEnd - Skipped scenario (4) 2`] = `
'{"type":"runStart","scenarios":4}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
'
`;

snapshot[`after onRunEnd 8`] = `
'{"type":"runStart","scenarios":4}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
{"type":"runEnd","summary":{"total":4,"passed":2,"failed":0,"skipped":2,"duration":20}}
'
`;

snapshot[`after onRunStart 9`] = `
'{"type":"runStart","scenarios":5}
'
`;

snapshot[`after onScenarioStart - Simple passing scenario (1) 8`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
'
`;

snapshot[`after onStepStart - Step that passes (1) 8`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
'
`;

snapshot[`after onStepEnd - Step that passes (1) 8`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
'
`;

snapshot[`after onScenarioEnd - Simple passing scenario (1) 8`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
'
`;

snapshot[`after onScenarioStart - Scenario with failing step (2) 4`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
'
`;

snapshot[`after onStepStart - Step that passes (2-1) 4`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
'
`;

snapshot[`after onStepEnd - Step that passes (2-1) 4`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
'
`;

snapshot[`after onStepStart - Step that fails (2-2) 4`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
'
`;

snapshot[`after onStepError - Step that fails (2-2) 4`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
{"type":"stepError","name":"Step that fails","error":{"message":"Assertion failed","stack":"Error: Assertion failed\\\\n    at Object.<anonymous> (src/reporter/testkit.ts:1234:11)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:429:7)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async fn (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:378:13)\\\\n    at async innerWrapped (ext:cli/40_test.js:181:5)\\\\n    at async exitSanitizer (ext:cli/40_test.js:97:27)\\\\n    at async Object.outerWrapped [as fn] (ext:cli/40_test.js:124:14)\\\\n    at async TestContext.step (ext:cli/40_test.js:511:22)\\\\n    at async TestSuiteInternal.run (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:394:7)"}}
'
`;

snapshot[`after onScenarioEnd - Scenario with failing step (2) 4`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
{"type":"stepError","name":"Step that fails","error":{"message":"Assertion failed","stack":"Error: Assertion failed\\\\n    at Object.<anonymous> (src/reporter/testkit.ts:1234:11)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:429:7)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async fn (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:378:13)\\\\n    at async innerWrapped (ext:cli/40_test.js:181:5)\\\\n    at async exitSanitizer (ext:cli/40_test.js:97:27)\\\\n    at async Object.outerWrapped [as fn] (ext:cli/40_test.js:124:14)\\\\n    at async TestContext.step (ext:cli/40_test.js:511:22)\\\\n    at async TestSuiteInternal.run (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:394:7)"}}
{"type":"scenarioEnd","name":"Scenario with failing step","status":"failed","duration":15}
'
`;

snapshot[`after onScenarioSkip - Skipped scenario (3) 2`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
{"type":"stepError","name":"Step that fails","error":{"message":"Assertion failed","stack":"Error: Assertion failed\\\\n    at Object.<anonymous> (src/reporter/testkit.ts:1234:11)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:429:7)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async fn (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:378:13)\\\\n    at async innerWrapped (ext:cli/40_test.js:181:5)\\\\n    at async exitSanitizer (ext:cli/40_test.js:97:27)\\\\n    at async Object.outerWrapped [as fn] (ext:cli/40_test.js:124:14)\\\\n    at async TestContext.step (ext:cli/40_test.js:511:22)\\\\n    at async TestSuiteInternal.run (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:394:7)"}}
{"type":"scenarioEnd","name":"Scenario with failing step","status":"failed","duration":15}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
'
`;

snapshot[`after onScenarioEnd - Skipped scenario (3) 2`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
{"type":"stepError","name":"Step that fails","error":{"message":"Assertion failed","stack":"Error: Assertion failed\\\\n    at Object.<anonymous> (src/reporter/testkit.ts:1234:11)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:429:7)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async fn (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:378:13)\\\\n    at async innerWrapped (ext:cli/40_test.js:181:5)\\\\n    at async exitSanitizer (ext:cli/40_test.js:97:27)\\\\n    at async Object.outerWrapped [as fn] (ext:cli/40_test.js:124:14)\\\\n    at async TestContext.step (ext:cli/40_test.js:511:22)\\\\n    at async TestSuiteInternal.run (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:394:7)"}}
{"type":"scenarioEnd","name":"Scenario with failing step","status":"failed","duration":15}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
'
`;

snapshot[`after onScenarioStart - Simple passing scenario (4) 2`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
{"type":"stepError","name":"Step that fails","error":{"message":"Assertion failed","stack":"Error: Assertion failed\\\\n    at Object.<anonymous> (src/reporter/testkit.ts:1234:11)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:429:7)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async fn (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:378:13)\\\\n    at async innerWrapped (ext:cli/40_test.js:181:5)\\\\n    at async exitSanitizer (ext:cli/40_test.js:97:27)\\\\n    at async Object.outerWrapped [as fn] (ext:cli/40_test.js:124:14)\\\\n    at async TestContext.step (ext:cli/40_test.js:511:22)\\\\n    at async TestSuiteInternal.run (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:394:7)"}}
{"type":"scenarioEnd","name":"Scenario with failing step","status":"failed","duration":15}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
'
`;

snapshot[`after onStepStart - Step that passes (4) 2`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
{"type":"stepError","name":"Step that fails","error":{"message":"Assertion failed","stack":"Error: Assertion failed\\\\n    at Object.<anonymous> (src/reporter/testkit.ts:1234:11)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:429:7)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async fn (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:378:13)\\\\n    at async innerWrapped (ext:cli/40_test.js:181:5)\\\\n    at async exitSanitizer (ext:cli/40_test.js:97:27)\\\\n    at async Object.outerWrapped [as fn] (ext:cli/40_test.js:124:14)\\\\n    at async TestContext.step (ext:cli/40_test.js:511:22)\\\\n    at async TestSuiteInternal.run (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:394:7)"}}
{"type":"scenarioEnd","name":"Scenario with failing step","status":"failed","duration":15}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
'
`;

snapshot[`after onStepEnd - Step that passes (4) 2`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
{"type":"stepError","name":"Step that fails","error":{"message":"Assertion failed","stack":"Error: Assertion failed\\\\n    at Object.<anonymous> (src/reporter/testkit.ts:1234:11)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:429:7)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async fn (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:378:13)\\\\n    at async innerWrapped (ext:cli/40_test.js:181:5)\\\\n    at async exitSanitizer (ext:cli/40_test.js:97:27)\\\\n    at async Object.outerWrapped [as fn] (ext:cli/40_test.js:124:14)\\\\n    at async TestContext.step (ext:cli/40_test.js:511:22)\\\\n    at async TestSuiteInternal.run (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:394:7)"}}
{"type":"scenarioEnd","name":"Scenario with failing step","status":"failed","duration":15}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
'
`;

snapshot[`after onScenarioEnd - Simple passing scenario (4) 2`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
{"type":"stepError","name":"Step that fails","error":{"message":"Assertion failed","stack":"Error: Assertion failed\\\\n    at Object.<anonymous> (src/reporter/testkit.ts:1234:11)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:429:7)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async fn (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:378:13)\\\\n    at async innerWrapped (ext:cli/40_test.js:181:5)\\\\n    at async exitSanitizer (ext:cli/40_test.js:97:27)\\\\n    at async Object.outerWrapped [as fn] (ext:cli/40_test.js:124:14)\\\\n    at async TestContext.step (ext:cli/40_test.js:511:22)\\\\n    at async TestSuiteInternal.run (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:394:7)"}}
{"type":"scenarioEnd","name":"Scenario with failing step","status":"failed","duration":15}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
'
`;

snapshot[`after onScenarioSkip - Skipped scenario (5) 2`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
{"type":"stepError","name":"Step that fails","error":{"message":"Assertion failed","stack":"Error: Assertion failed\\\\n    at Object.<anonymous> (src/reporter/testkit.ts:1234:11)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:429:7)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async fn (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:378:13)\\\\n    at async innerWrapped (ext:cli/40_test.js:181:5)\\\\n    at async exitSanitizer (ext:cli/40_test.js:97:27)\\\\n    at async Object.outerWrapped [as fn] (ext:cli/40_test.js:124:14)\\\\n    at async TestContext.step (ext:cli/40_test.js:511:22)\\\\n    at async TestSuiteInternal.run (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:394:7)"}}
{"type":"scenarioEnd","name":"Scenario with failing step","status":"failed","duration":15}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
'
`;

snapshot[`after onScenarioEnd - Skipped scenario (5) 2`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
{"type":"stepError","name":"Step that fails","error":{"message":"Assertion failed","stack":"Error: Assertion failed\\\\n    at Object.<anonymous> (src/reporter/testkit.ts:1234:11)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:429:7)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async fn (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:378:13)\\\\n    at async innerWrapped (ext:cli/40_test.js:181:5)\\\\n    at async exitSanitizer (ext:cli/40_test.js:97:27)\\\\n    at async Object.outerWrapped [as fn] (ext:cli/40_test.js:124:14)\\\\n    at async TestContext.step (ext:cli/40_test.js:511:22)\\\\n    at async TestSuiteInternal.run (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:394:7)"}}
{"type":"scenarioEnd","name":"Scenario with failing step","status":"failed","duration":15}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
'
`;

snapshot[`after onRunEnd 9`] = `
'{"type":"runStart","scenarios":5}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioStart","name":"Scenario with failing step","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"stepStart","name":"Step that fails","location":{"file":"test.scenario.ts","line":20}}
{"type":"stepError","name":"Step that fails","error":{"message":"Assertion failed","stack":"Error: Assertion failed\\\\n    at Object.<anonymous> (src/reporter/testkit.ts:1234:11)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:429:7)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async TestSuiteInternal.runTest (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:417:9)\\\\n    at async fn (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:378:13)\\\\n    at async innerWrapped (ext:cli/40_test.js:181:5)\\\\n    at async exitSanitizer (ext:cli/40_test.js:97:27)\\\\n    at async Object.outerWrapped [as fn] (ext:cli/40_test.js:124:14)\\\\n    at async TestContext.step (ext:cli/40_test.js:511:22)\\\\n    at async TestSuiteInternal.run (https://jsr.io/@std/testing/1.0.16/_test_suite.ts:394:7)"}}
{"type":"scenarioEnd","name":"Scenario with failing step","status":"failed","duration":15}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
{"type":"scenarioStart","name":"Simple passing scenario","location":{"file":"test.scenario.ts","line":10},"tags":[]}
{"type":"stepStart","name":"Step that passes","location":{"file":"test.scenario.ts","line":15}}
{"type":"stepEnd","name":"Step that passes","status":"passed","duration":10,"retries":0}
{"type":"scenarioEnd","name":"Simple passing scenario","status":"passed","duration":10}
{"type":"scenarioSkip","name":"Skipped scenario","reason":"Scenario is marked to skip"}
{"type":"scenarioEnd","name":"Skipped scenario","status":"skipped","duration":0}
{"type":"runEnd","summary":{"total":5,"passed":2,"failed":1,"skipped":2,"duration":55}}
'
`;

snapshot[`after onRunStart 10`] = `
'{"type":"runStart","scenarios":0}
'
`;

snapshot[`after onRunEnd 10`] = `
'{"type":"runStart","scenarios":0}
{"type":"runEnd","summary":{"total":0,"passed":0,"failed":0,"skipped":0,"duration":0}}
'
`;
